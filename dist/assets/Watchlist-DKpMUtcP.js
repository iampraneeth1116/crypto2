import{r as e,j as t,L as p}from"./index-BMNqLee1.js";import{H as u,F as f}from"./footer-CFMDGrx8.js";import{T as x}from"./index-CvSxsa_y.js";import{L as w}from"./index-z-eat6_H.js";function E(){const[a,i]=e.useState([]),[n,r]=e.useState(!1),[o,l]=e.useState(null);e.useEffect(()=>{h()},[]);const h=async()=>{const c=JSON.parse(localStorage.getItem("watchlist"))||[];if(c.length!==0){r(!0);try{const s=await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=false");if(!s.ok)throw new Error(s.statusText);const d=(await s.json()).filter(m=>c.includes(m.id));i(d)}catch(s){l(s.message),console.error(s)}r(!1)}};return t.jsxs("div",{className:"watchlist-container",children:[t.jsx(u,{}),t.jsx("div",{className:"watchlist-content",children:n?t.jsx(w,{}):o?t.jsx("div",{className:"watchlist-error",children:o}):a.length===0?t.jsxs("div",{className:"watchlist-empty",children:[t.jsx("h1",{children:"Your Watchlist is Empty"}),t.jsx("p",{children:"Start tracking your favorite cryptocurrencies by adding them to your watchlist."}),t.jsx(p,{to:"/dashboard",className:"browse-link",children:"Browse Coins"})]}):t.jsx(x,{coins:a})}),t.jsx(f,{})]})}export{E as default};
